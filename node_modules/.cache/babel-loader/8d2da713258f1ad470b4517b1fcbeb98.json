{"ast":null,"code":"import _classCallCheck from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/amipatel/Desktop/money-tracker/src/components/Transaction/Filter/Calendar.js\";\nimport React from 'react';\nimport { Modal, Button } from 'semantic-ui-react';\nimport DayPicker, { DateUtils } from 'react-day-picker';\nimport 'react-day-picker/lib/style.css';\nvar currentYear = new Date().getFullYear();\nvar fromMonth = new Date(currentYear - 8, 0);\nvar toMonth = new Date(currentYear + 2, 11);\n\nfunction YearMonthForm(_ref) {\n  var date = _ref.date,\n      localeUtils = _ref.localeUtils,\n      onChange = _ref.onChange;\n  var months = localeUtils.getMonths();\n  var years = [];\n\n  for (var i = fromMonth.getFullYear(); i <= toMonth.getFullYear(); i += 1) {\n    years.push(i);\n  }\n\n  var handleChange = function handleChange(e) {\n    var _e$target$form = e.target.form,\n        year = _e$target$form.year,\n        month = _e$target$form.month;\n    onChange(new Date(year.value, month.value));\n  };\n\n  return React.createElement(\"form\", {\n    className: \"DayPicker-Caption\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    name: \"month\",\n    onChange: handleChange,\n    value: date.getMonth(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, months.map(function (month, i) {\n    return React.createElement(\"option\", {\n      key: i,\n      value: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, month);\n  })), React.createElement(\"select\", {\n    name: \"year\",\n    onChange: handleChange,\n    value: date.getFullYear(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, years.map(function (year, i) {\n    return React.createElement(\"option\", {\n      key: i,\n      value: year,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, year);\n  })));\n}\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Calendar, _React$Component);\n\n  function Calendar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Calendar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      month: null,\n      from: null,\n      to: null\n    };\n\n    _this.handleDayClick = function (day) {\n      var range = DateUtils.addDayToRange(day, _this.state);\n\n      _this.setState(range);\n    };\n\n    _this.handleYearMonthChange = function (month) {\n      _this.setState({\n        month: month\n      });\n    };\n\n    _this.handleResetClick = function () {\n      _this.setState({\n        month: null,\n        from: null,\n        to: null\n      });\n    };\n\n    _this.handleApplyClick = function () {\n      var _this$state = _this.state,\n          from = _this$state.from,\n          to = _this$state.to;\n\n      _this.props.changeFilterDate({\n        dateStart: from.setHours(0, 0, 0),\n        dateEnd: to && to.setHours(23, 59, 59) || from.setHours(23, 59, 59)\n      });\n\n      _this.props.toggleFilterCalendar();\n    };\n\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          month = _this$state2.month,\n          from = _this$state2.from,\n          to = _this$state2.to;\n      return React.createElement(Modal, {\n        open: this.props.isCalendarOpen,\n        onClose: this.props.toggleFilterCalendar,\n        className: \"transactions-filter-modal\",\n        closeIcon: true,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Show transactions in range\"), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(DayPicker, {\n        className: \"Range\",\n        fixedWeeks: true,\n        enableOutsideDays: true,\n        numberOfMonths: this.props.isMobile ? 1 : 2,\n        selectedDays: [from, {\n          from: from,\n          to: to\n        }],\n        month: month,\n        captionElement: React.createElement(YearMonthForm, {\n          onChange: this.handleYearMonthChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }),\n        onDayClick: this.handleDayClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Button, {\n        content: \"Reset\",\n        onClick: this.handleResetClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(Button, {\n        content: \"Apply\",\n        onClick: this.handleApplyClick,\n        positive: true,\n        disabled: this.state.from === null && this.state.to === null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Calendar;\n}(React.Component);\n\nexport default Calendar;","map":{"version":3,"sources":["/Users/amipatel/Desktop/money-tracker/src/components/Transaction/Filter/Calendar.js"],"names":["React","Modal","Button","DayPicker","DateUtils","currentYear","Date","getFullYear","fromMonth","toMonth","YearMonthForm","date","localeUtils","onChange","months","getMonths","years","i","push","handleChange","e","target","form","year","month","value","getMonth","map","Calendar","state","from","to","handleDayClick","day","range","addDayToRange","setState","handleYearMonthChange","handleResetClick","handleApplyClick","props","changeFilterDate","dateStart","setHours","dateEnd","toggleFilterCalendar","isCalendarOpen","isMobile","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Modal, Button } from 'semantic-ui-react';\nimport DayPicker, { DateUtils } from 'react-day-picker';\nimport 'react-day-picker/lib/style.css';\n\nconst currentYear = new Date().getFullYear();\nconst fromMonth = new Date(currentYear - 8, 0);\nconst toMonth = new Date(currentYear + 2, 11);\n\nfunction YearMonthForm({ date, localeUtils, onChange }) {\n  const months = localeUtils.getMonths();\n\n  const years = [];\n  for (let i = fromMonth.getFullYear(); i <= toMonth.getFullYear(); i += 1) {\n    years.push(i);\n  }\n\n  const handleChange = function handleChange(e) {\n    const { year, month } = e.target.form;\n    onChange(new Date(year.value, month.value));\n  };\n\n  return (\n    <form className=\"DayPicker-Caption\">\n      <select name=\"month\" onChange={handleChange} value={date.getMonth()}>\n        {months.map((month, i) => (\n          <option key={i} value={i}>\n            {month}\n          </option>\n        ))}\n      </select>\n      <select name=\"year\" onChange={handleChange} value={date.getFullYear()}>\n        {years.map((year, i) => (\n          <option key={i} value={year}>\n            {year}\n          </option>\n        ))}\n      </select>\n    </form>\n  );\n}\n\nclass Calendar extends React.Component {\n  state = {\n    month: null,\n    from: null,\n    to: null\n  };\n\n  handleDayClick = day => {\n    const range = DateUtils.addDayToRange(day, this.state);\n    this.setState(range);\n  };\n\n  handleYearMonthChange = month => {\n    this.setState({ month });\n  };\n\n  handleResetClick = () => {\n    this.setState({\n      month: null,\n      from: null,\n      to: null\n    });\n  };\n\n  handleApplyClick = () => {\n    const { from, to } = this.state;\n\n    this.props.changeFilterDate({\n      dateStart: from.setHours(0, 0, 0),\n      dateEnd: (to && to.setHours(23, 59, 59)) || from.setHours(23, 59, 59)\n    });\n    this.props.toggleFilterCalendar();\n  };\n\n  render() {\n    const { month, from, to } = this.state;\n\n    return (\n      <Modal\n        open={this.props.isCalendarOpen}\n        onClose={this.props.toggleFilterCalendar}\n        className=\"transactions-filter-modal\"\n        closeIcon\n        size=\"small\"\n      >\n        <Modal.Header>Show transactions in range</Modal.Header>\n        <Modal.Content>\n          <DayPicker\n            className=\"Range\"\n            fixedWeeks\n            enableOutsideDays\n            numberOfMonths={this.props.isMobile ? 1 : 2}\n            selectedDays={[from, { from, to }]}\n            month={month}\n            captionElement={\n              <YearMonthForm onChange={this.handleYearMonthChange} />\n            }\n            onDayClick={this.handleDayClick}\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button content=\"Reset\" onClick={this.handleResetClick} />\n          <Button\n            content=\"Apply\"\n            onClick={this.handleApplyClick}\n            positive\n            disabled={this.state.from === null && this.state.to === null}\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}