{"ast":null,"code":"import _toConsumableArray from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _handleActions;\n\nimport { handleActions, combineActions } from 'redux-actions';\nimport pick from 'lodash/pick';\nimport { fillInAccountForm, openAccountInModal, resetAccountForm, toggleOnDashboard, toggleCurrency, changeBalance, changeGroup, changeName } from '../../../actions/ui/form/account';\nimport { saveAccountSuccess, removeAccountRequest, removeAccountStart, removeAccountFailure, removeAccountSuccess, removeAccountItemProcessed } from '../../../actions/entities/accounts';\nimport { changeSettingsCurrency } from '../../../actions/settings';\nimport { defaultGroup, stateToForm } from '../../../entities/Account';\nvar initialState = {\n  name: '',\n  group: defaultGroup,\n  balance: {},\n  currencies: [],\n  on_dashboard: true,\n  completed: false,\n  isModalOpen: false,\n  isDeleteRequest: false,\n  isDeleteRunning: false,\n  itemsToProcess: Infinity,\n  itemsProcessed: 0\n};\nexport default handleActions((_handleActions = {}, _defineProperty(_handleActions, changeGroup, function (state, _ref) {\n  var payload = _ref.payload;\n  return _objectSpread({}, state, {\n    group: payload\n  });\n}), _defineProperty(_handleActions, changeName, function (state, _ref2) {\n  var payload = _ref2.payload;\n  return _objectSpread({}, state, {\n    name: payload\n  });\n}), _defineProperty(_handleActions, toggleCurrency, function (state, _ref3) {\n  var payload = _ref3.payload;\n  var isChecked = state.currencies.includes(payload);\n  if (isChecked && state.currencies.length === 1) return state;\n  return _objectSpread({}, state, {\n    currencies: isChecked ? state.currencies.filter(function (code) {\n      return code !== payload;\n    }) : state.currencies.concat(payload),\n    balance: !isChecked && state.balance[payload] === undefined ? _objectSpread({}, state.balance, _defineProperty({}, payload, '')) : state.balance\n  });\n}), _defineProperty(_handleActions, changeBalance, function (state, _ref4) {\n  var payload = _ref4.payload;\n  return _objectSpread({}, state, {\n    currencies: state.currencies.includes(payload.code) ? state.currencies : state.currencies.concat(payload.code),\n    balance: _objectSpread({}, state.balance, _defineProperty({}, payload.code, payload.balance))\n  });\n}), _defineProperty(_handleActions, toggleOnDashboard, function (state) {\n  return _objectSpread({}, state, {\n    on_dashboard: !state.on_dashboard\n  });\n}), _defineProperty(_handleActions, changeSettingsCurrency, function (state, _ref5) {\n  var payload = _ref5.payload;\n  var currencies = new Set([payload.base].concat(_toConsumableArray(payload.secondary)));\n  return _objectSpread({}, state, {\n    currencies: state.currencies.filter(function (code) {\n      return currencies.has(code);\n    }),\n    balance: pick(state.balance, _toConsumableArray(currencies))\n  });\n}), _defineProperty(_handleActions, openAccountInModal, function (state, _ref6) {\n  var payload = _ref6.payload;\n  return _objectSpread({}, state, payload, {\n    isModalOpen: true\n  });\n}), _defineProperty(_handleActions, resetAccountForm, function () {\n  return initialState;\n}), _defineProperty(_handleActions, combineActions(saveAccountSuccess, removeAccountSuccess), function () {\n  return _objectSpread({}, initialState, {\n    completed: true\n  });\n}), _defineProperty(_handleActions, fillInAccountForm, function (state, _ref7) {\n  var payload = _ref7.payload;\n  return _objectSpread({}, state, stateToForm(payload));\n}), _defineProperty(_handleActions, removeAccountRequest, function (state) {\n  return _objectSpread({}, state, {\n    isDeleteRequest: !state.isDeleteRequest\n  });\n}), _defineProperty(_handleActions, removeAccountStart, function (state, action) {\n  return _objectSpread({}, state, {\n    isDeleteRunning: true,\n    itemsToProcess: action.payload\n  });\n}), _defineProperty(_handleActions, combineActions(removeAccountSuccess, removeAccountFailure), function (state) {\n  return _objectSpread({}, state, {\n    isDeleteRunning: false\n  });\n}), _defineProperty(_handleActions, removeAccountItemProcessed, function (state, action) {\n  return _objectSpread({}, state, {\n    itemsProcessed: action.payload\n  });\n}), _handleActions), initialState);","map":{"version":3,"sources":["/Users/amipatel/Desktop/money-tracker/src/reducers/ui/form/account.js"],"names":["handleActions","combineActions","pick","fillInAccountForm","openAccountInModal","resetAccountForm","toggleOnDashboard","toggleCurrency","changeBalance","changeGroup","changeName","saveAccountSuccess","removeAccountRequest","removeAccountStart","removeAccountFailure","removeAccountSuccess","removeAccountItemProcessed","changeSettingsCurrency","defaultGroup","stateToForm","initialState","name","group","balance","currencies","on_dashboard","completed","isModalOpen","isDeleteRequest","isDeleteRunning","itemsToProcess","Infinity","itemsProcessed","state","payload","isChecked","includes","length","filter","code","concat","undefined","Set","base","secondary","has","action"],"mappings":"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","sourcesContent":["import { handleActions, combineActions } from 'redux-actions';\nimport pick from 'lodash/pick';\nimport {\n  fillInAccountForm,\n  openAccountInModal,\n  resetAccountForm,\n  toggleOnDashboard,\n  toggleCurrency,\n  changeBalance,\n  changeGroup,\n  changeName\n} from '../../../actions/ui/form/account';\nimport {\n  saveAccountSuccess,\n  removeAccountRequest,\n  removeAccountStart,\n  removeAccountFailure,\n  removeAccountSuccess,\n  removeAccountItemProcessed\n} from '../../../actions/entities/accounts';\nimport { changeSettingsCurrency } from '../../../actions/settings';\nimport { defaultGroup, stateToForm } from '../../../entities/Account';\n\nconst initialState = {\n  name: '',\n  group: defaultGroup,\n  balance: {},\n  currencies: [],\n  on_dashboard: true,\n  completed: false,\n  isModalOpen: false,\n  isDeleteRequest: false,\n  isDeleteRunning: false,\n  itemsToProcess: Infinity,\n  itemsProcessed: 0\n};\nexport default handleActions(\n  {\n    [changeGroup]: (state, { payload }) => ({ ...state, group: payload }),\n    [changeName]: (state, { payload }) => ({ ...state, name: payload }),\n    [toggleCurrency]: (state, { payload }) => {\n      const isChecked = state.currencies.includes(payload);\n      if (isChecked && state.currencies.length === 1) return state;\n      return {\n        ...state,\n        currencies: isChecked\n          ? state.currencies.filter(code => code !== payload)\n          : state.currencies.concat(payload),\n        balance:\n          !isChecked && state.balance[payload] === undefined\n            ? { ...state.balance, [payload]: '' }\n            : state.balance\n      };\n    },\n    [changeBalance]: (state, { payload }) => ({\n      ...state,\n      currencies: state.currencies.includes(payload.code)\n        ? state.currencies\n        : state.currencies.concat(payload.code),\n      balance: { ...state.balance, [payload.code]: payload.balance }\n    }),\n    [toggleOnDashboard]: state => ({\n      ...state,\n      on_dashboard: !state.on_dashboard\n    }),\n    [changeSettingsCurrency]: (state, { payload }) => {\n      const currencies = new Set([payload.base, ...payload.secondary]);\n      return {\n        ...state,\n        currencies: state.currencies.filter(code => currencies.has(code)),\n        balance: pick(state.balance, [...currencies])\n      };\n    },\n    [openAccountInModal]: (state, { payload }) => ({\n      ...state,\n      ...payload,\n      isModalOpen: true\n    }),\n    [resetAccountForm]: () => initialState,\n    [combineActions(saveAccountSuccess, removeAccountSuccess)]: () => ({\n      ...initialState,\n      completed: true\n    }),\n    [fillInAccountForm]: (state, { payload }) => ({\n      ...state,\n      ...stateToForm(payload)\n    }),\n    [removeAccountRequest]: state => ({\n      ...state,\n      isDeleteRequest: !state.isDeleteRequest\n    }),\n    [removeAccountStart]: (state, action) => ({\n      ...state,\n      isDeleteRunning: true,\n      itemsToProcess: action.payload\n    }),\n    [combineActions(removeAccountSuccess, removeAccountFailure)]: state => ({\n      ...state,\n      isDeleteRunning: false\n    }),\n    [removeAccountItemProcessed]: (state, action) => ({\n      ...state,\n      itemsProcessed: action.payload\n    })\n  },\n  initialState\n);\n"]},"metadata":{},"sourceType":"module"}