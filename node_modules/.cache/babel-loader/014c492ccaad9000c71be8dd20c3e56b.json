{"ast":null,"code":"import _objectSpread from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amipatel/Desktop/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/amipatel/Desktop/money-tracker/src/components/Account/ModalForm/DeleteStrategy.js\";\nimport React from 'react';\nimport { Button, Radio, Dropdown, Form, Progress } from 'semantic-ui-react';\nimport { defaultDeleteStrategy, getDeleteStartegyOptions, DeleteStrategyT } from 'entities/Account';\n\nvar DeleteStrategy =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DeleteStrategy, _React$Component);\n\n  function DeleteStrategy() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DeleteStrategy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DeleteStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      strategy: defaultDeleteStrategy\n    };\n\n    _this.onStrategyChange = function (e, _ref) {\n      var value = _ref.value;\n\n      _this.setState(_objectSpread({}, _this.state, {\n        strategy: value\n      }));\n    };\n\n    _this.onAccountChange = function (e, _ref2) {\n      var value = _ref2.value;\n\n      _this.setState(_objectSpread({}, _this.state, {\n        moveTo: value\n      }));\n    };\n\n    _this.onProceed = function () {\n      _this.props.removeAccount({\n        id: _this.props.form.id,\n        strategy: _this.state.strategy,\n        moveTo: _this.getMoveTo()\n      });\n    };\n\n    _this.getMoveTo = function () {\n      return _this.state.moveTo || _this.props.accountOptions.length && _this.props.accountOptions[0].key;\n    };\n\n    return _this;\n  }\n\n  _createClass(DeleteStrategy, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var hasMultipleAccounts = this.props.accountOptions.length > 0;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"You are about to delete account \\\"\", this.props.form.name, \"\\\"\"), React.createElement(\"p\", {\n        style: {\n          marginTop: '1em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"What should we do with transactions linked to this account?\"), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, getDeleteStartegyOptions(hasMultipleAccounts).map(function (strategy) {\n        return React.createElement(Form.Field, {\n          key: strategy.key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          name: \"deleteStrategy\",\n          label: strategy.text,\n          value: strategy.value,\n          checked: _this2.state.strategy === strategy.value,\n          onChange: _this2.onStrategyChange,\n          disabled: _this2.props.modal.isDeleteRunning,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }));\n      }), hasMultipleAccounts && this.state.strategy === DeleteStrategyT.Move && React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        selection: true,\n        value: this.getMoveTo(),\n        options: this.props.accountOptions,\n        onChange: this.onAccountChange,\n        disabled: this.props.modal.isDeleteRunning,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, this.props.modal.isDeleteRunning ? React.createElement(Progress, {\n        value: this.props.modal.itemsProcessed,\n        total: this.props.modal.itemsToProcess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }) : React.createElement(Button, {\n        negative: true,\n        labelPosition: \"right\",\n        icon: \"arrow right\",\n        content: \"Proceed\",\n        onClick: this.onProceed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return DeleteStrategy;\n}(React.Component);\n\nexport default DeleteStrategy;","map":{"version":3,"sources":["/Users/amipatel/Desktop/money-tracker/src/components/Account/ModalForm/DeleteStrategy.js"],"names":["React","Button","Radio","Dropdown","Form","Progress","defaultDeleteStrategy","getDeleteStartegyOptions","DeleteStrategyT","DeleteStrategy","state","strategy","onStrategyChange","e","value","setState","onAccountChange","moveTo","onProceed","props","removeAccount","id","form","getMoveTo","accountOptions","length","key","hasMultipleAccounts","name","marginTop","map","text","modal","isDeleteRunning","Move","itemsProcessed","itemsToProcess","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, Radio, Dropdown, Form, Progress } from 'semantic-ui-react';\nimport {\n  defaultDeleteStrategy,\n  getDeleteStartegyOptions,\n  DeleteStrategyT\n} from 'entities/Account';\n\nclass DeleteStrategy extends React.Component {\n  state = {\n    strategy: defaultDeleteStrategy\n  };\n\n  onStrategyChange = (e, { value }) => {\n    this.setState({ ...this.state, strategy: value });\n  };\n\n  onAccountChange = (e, { value }) => {\n    this.setState({ ...this.state, moveTo: value });\n  };\n\n  onProceed = () => {\n    this.props.removeAccount({\n      id: this.props.form.id,\n      strategy: this.state.strategy,\n      moveTo: this.getMoveTo()\n    });\n  };\n\n  getMoveTo = () =>\n    this.state.moveTo ||\n    (this.props.accountOptions.length && this.props.accountOptions[0].key);\n\n  render() {\n    const hasMultipleAccounts = this.props.accountOptions.length > 0;\n    return (\n      <React.Fragment>\n        <h3>You are about to delete account \"{this.props.form.name}\"</h3>\n        <p style={{ marginTop: '1em' }}>\n          What should we do with transactions linked to this account?\n        </p>\n        <Form>\n          {getDeleteStartegyOptions(hasMultipleAccounts).map(strategy => (\n            <Form.Field key={strategy.key}>\n              <Radio\n                name=\"deleteStrategy\"\n                label={strategy.text}\n                value={strategy.value}\n                checked={this.state.strategy === strategy.value}\n                onChange={this.onStrategyChange}\n                disabled={this.props.modal.isDeleteRunning}\n              />\n            </Form.Field>\n          ))}\n          {hasMultipleAccounts && this.state.strategy === DeleteStrategyT.Move && (\n            <Form.Field>\n              <Dropdown\n                selection\n                value={this.getMoveTo()}\n                options={this.props.accountOptions}\n                onChange={this.onAccountChange}\n                disabled={this.props.modal.isDeleteRunning}\n              />\n            </Form.Field>\n          )}\n          <Form.Field>\n            {this.props.modal.isDeleteRunning ? (\n              <Progress\n                value={this.props.modal.itemsProcessed}\n                total={this.props.modal.itemsToProcess}\n              />\n            ) : (\n              <Button\n                negative\n                labelPosition=\"right\"\n                icon=\"arrow right\"\n                content=\"Proceed\"\n                onClick={this.onProceed}\n              />\n            )}\n          </Form.Field>\n        </Form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default DeleteStrategy;\n"]},"metadata":{},"sourceType":"module"}